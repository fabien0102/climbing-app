# project: cj7bvwftj21oz0103sv2hrsmg
# version: 51

type File implements Node {
  contentType: String!
  createdAt: DateTime!
  gym: Gym @relation(name: "GymLogo")
  id: ID! @isUnique
  name: String!
  secret: String! @isUnique
  size: Int!
  updatedAt: DateTime!
  url: String! @isUnique
}

type User implements Node {
  createdAt: DateTime!
  id: ID! @isUnique
  pseudo: String @isUnique
  updatedAt: DateTime!
  email: String @isUnique
  password: String
  tries: [Try!]! @relation(name: "TryOnUser")
  auth0UserId: String @isUnique
}

type Gym implements Node {
  city: String!
  country: String!
  createdAt: DateTime!
  file: File @relation(name: "GymLogo")
  id: ID! @isUnique
  name: String!
  updatedAt: DateTime!
  walls: [Wall!]! @relation(name: "WallOnGym")
}

type Wall implements Node {
  createdAt: DateTime!
  gym: Gym @relation(name: "WallOnGym")
  id: ID! @isUnique
  name: String!
  updatedAt: DateTime!
  routes: [Route!]! @relation(name: "RouteOnWall")
}

type Route implements Node {
  averageTries: Float! @defaultValue(value: 0.0)
  climbingStyle: String
  color: String!
  createdAt: DateTime!
  grade: String!
  id: ID! @isUnique
  removedAt: DateTime
  successRate: Float! @defaultValue(value: 0.0)
  tries: [Try!]! @relation(name: "TryOnRoute")
  updatedAt: DateTime!
  wall: Wall @relation(name: "RouteOnWall")
}

type Try implements Node {
  createdAt: DateTime!
  id: ID! @isUnique
  route: Route @relation(name: "TryOnRoute")
  successLevel: Int!
  updatedAt: DateTime!
  user: User @relation(name: "TryOnUser")
}